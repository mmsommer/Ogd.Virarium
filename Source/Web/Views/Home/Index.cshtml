@model IndexViewModel
@using Ogd.Virarium.Web.Models.Home
@using Ogd.Virarium.Resources.Web.Views.Shared
@using Ogd.Virarium.Domain.Models
@{
    ViewBag.Title = SharedStrings.Product;
}
<script type="text/javascript">
    var doRefresh = true;

    function Refresh() {
        if (doRefresh) {
            $('#virarium').load('@Url.Action("UpdateVirarium")');
            setTimeout("Refresh()", 1000);
        }
    };

    $(document).ready(function () {
        setTimeout("Refresh()", 1000);
    });

    $('div.machine').hover(
        function () {
            $(this).find('div.list_of_infections').toggle();
        }
    );

    function toggleRefresh(element) {
        doRefresh = !doRefresh;
        if (doRefresh) {
            $(element).html('Disable autorefresh');
        }else{
            $(element).html('Enable autorefresh');
        }
    };
</script>
<div id="virarium" class="virarium">
    @Html.Partial("ViewObjects/Virarium", Model)
</div>
<div id="ToggleRefresh">
    <button onclick="toggleRefresh(this);">Disable autorefresh</button>
</div>
